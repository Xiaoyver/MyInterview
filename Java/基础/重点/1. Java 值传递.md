# Java值传递

## 形参&实参

方法的定义会用到参数(有参方法),参数在程序语言中分为两类:

- 实参: 传递给方法/函数的参数,必须有确定的值.
- 形参: 用于定义函数/方法,接受参数,不需要有明确的值

``` java
String hello = "Hello!";
// hello 为实参
sayHello(hello);
// str 为形参
void sayHello(String str) {
    System.out.println(str);
}
```

## 值传递&引用传递

程序设计语言将实参传递给方法(或函数)的方式分为两种:

- 值传递: 方法接收的是实参的拷贝,会创建副本.
- 引用传递: 方法接收的直接是实参所引用的对象在堆中的地址,不会创建副本,对形参的修改将影响到实参.

## Java中为什么只有值传递

三个例子

- 基本类型
  
    ```java
      public static void main(String[] args) {
          int num1 = 10;
          int num2 = 20;
          swap(num1, num2);
          System.out.println("num1 = " + num1);
          System.out.println("num2 = " + num2);
      }

      public static void swap(int a, int b) {
          int temp = a;
          a = b;
          b = temp;
          System.out.println("a = " + a);
          System.out.println("b = " + b);
      }

      输出:
          a = 20
          b = 10
          num1 = 10
          num2 = 20
    ```

- 数组

    ``` java
        public static void main(String[] args) {
            int[] arr = { 1, 2, 3, 4, 5 };
            System.out.println(arr[0]);
            change(arr);
            System.out.println(arr[0]);
         }

        public static void change(int[] array) {
            // 将数组的第一个元素变为0
            array[0] = 0;
        }

        输出:
            1
            0

    ```

- 对象

    ``` java
        public class Person {
            private String name;
        // 省略构造函数、Getter&Setter方法
        }

        public static void main(String[] args) {
            Person xiaoZhang = new Person("小张");
            Person xiaoLi = new Person("小李");
            swap(xiaoZhang, xiaoLi);
            System.out.println("xiaoZhang:" + xiaoZhang.getName());
            System.out.println("xiaoLi:" + xiaoLi.getName());
        }

        public static void swap(Person person1, Person person2) {
            Person temp = person1;
            person1 = person2;
            person2 = temp;
            System.out.println("person1:" + person1.getName());
            System.out.println("person2:" + person2.getName());
        } 

        输出:
            person1:小李
            person2:小张
            xiaoZhang:小张
            xiaoLi:小李
    ```

**总结**

`Java` 中将实参传递给方法(或函数)的方式是 **值传递**:

- 如果参数是基本类型的话,很简单,传递的就是基本类型的字面量值的拷贝,会创建副本.
- 如果参数是引用类型,传递的就是实参所引用的对象在堆中地址值的拷贝,同样也会创建副本.
